{
    "collab_server" : "",
    "contents" : "---\ntitle: \"HW6_P1\"\nauthor: \"Yuqi Tu\"\ndate: \"November 14, 2017\"\noutput: \n  flexdashboard::flex_dashboard:\n    orientation: columns\n    vertical_layout: fill\n\n---\n\n\n```{r library, message=FALSE, warning=FALSE}\nlibrary(tidyverse)\nlibrary(tidytext)\nlibrary(rvest)\nlibrary(httr)\nlibrary(haven)\nlibrary(janitor)\nlibrary(rnoaa)\nlibrary(stringr)\nlibrary(forcats)\nlibrary(viridis)\nlibrary(plotly)\nlibrary(flexdashboard)\n```\n\n\n\n```{r read and load data, message= FALSE, warning= FALSE}\ninstacart = read_csv(\"./data_hw6/instacart_train_data.csv.zip\") %>%\n    clean_names()\n```\n\n\n\n```{r department donut chart analysis}\ndepartment_items_ordered = summarize(group_by(instacart, department),n=n()) %>% \n  arrange(desc(n)) %>% \n  rename(number_of_item_ordered = n)\n\n\n```\n\n\n\n```{r data analysis order hour for items from the household department}\nhousehold = \n  filter(instacart,department == \"household\") %>%\n  select(department, order_hour_of_day) %>%\n  arrange(order_hour_of_day)\n```\n\n\n```{r analysis c}\n\n```\n\n\n\nColumn {data-width=500}\n-----------------------------------------------------------------------\n\n### Chart A\n\n```{r department donut chart plot }\ndonut_chart = department_items_ordered %>% \n  mutate(text_label = str_c(\"Number of Items Ordered:\", number_of_item_ordered)) %>%\n  plot_ly(labels = ~department, values = ~number_of_item_ordered) %>% \n  add_pie(hole = 0.4) %>% \n  layout(title = \"The Number of Items Ordered within Each Department\", showlegend = T,\n         xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE), \n         yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))\ndonut_chart\n\n# In New York City, online grocery service is popular for people to shop online from local stores. Among 21 departments of food in grocery shops, produce (29.5%), dairy eggs(15.7%), snacks(8.58%), beverages(8.24%) and forzen (7.25%) departments have much more ordered items than other department, while bulk (0.13%), pets(0.32%), and alcohol(0.40%) department have much fewer ordered items. \n\n\n```\n\nColumn {data-width=350}\n-----------------------------------------------------------------------\n\n### Chart B\n\n```{r histogram plot }\n#  the hour of the day on which the order was placed for household department\nfit <- density(household$order_hour_of_day)\nhousehold_plot =\n  household %>%\n  plot_ly(x = ~order_hour_of_day, type = \"histogram\", name = \"Frequency\") %>%\n  add_trace(x = fit$x, y = fit$y, type= \"scatter\", mode = \"lines\", fill = \"tozeroy\", yaxis = \"y2\", name = \"Density\") %>%\n  layout(yaxis2 = list(overlaying = \"y\", side = \"right\")) %>%\n  layout(title = \"The Hour of the Day on which the Order was placed for Household Department\",\n         xaxis = list(title = \"Order hour of the day\"), \n         yaxis = list(title = \"Frequency\"))\nhousehold_plot\n## We can see from the plot that every day before 9am, there are not many order placed from the household department but it's increasing. At around 9am, orders placed reach the maximum from the household department and then decreases for the rest of the day. \n```\n\n\n\n### Chart C\n\n```{r scatter plot}\n\n```\n\n\n\n\n",
    "created" : 1510715178786.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "239114066",
    "id" : "986AA716",
    "lastKnownWriteTime" : 1510713877,
    "last_content_update" : 1510715285356,
    "path" : "~/Documents/Columbia University/BISTP8105 Data Science/p8105_hw6_yt2604/p8105_hw6_yt2604_xy2364.Rmd",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}